# バイナリサーチツリーの操作

- 2分木の操作（探索・挿入・削除）の実装について説明する。

## 探索

- 探索対象の値とノードの値を比較しながら、探索対象の値がノードの値より大きいか小さいかで、探索対象の値が存在する方向を決定していく。

## 挿入

- 探索と同様に、挿入対象の値とノードの値を比較しながら、挿入対象の値がノードの値より大きいか小さいかで、挿入対象の値が存在する方向を決定していく。

## 削除

- 削除対象のノード値は上記の探索と同じアルゴリズムで探索する。
- 削除対象のノードが持つノードの数によって処理が変わる。
  - 削除対象のノードが子ノードを持たない場合
    - 削除対象のノードを削除する。 
  - 削除対象のノードが子ノードを1つだけ持つ場合
    - 削除対象のノードを削除する。
    - 削除対象のノードの親ノードと、削除対象のノードの子ノードを繋げる。
  - 削除対象のノードが子ノードを2つ持つ場合
    - 削除対象のノードの右側の子ノードの中で、最小の値を持つノードを探索する。（あるいは逆）
    - 探索したノードの値を削除対象のノードの値に上書きする。
    - 探索したノードを削除する。
    - 探索したノードの親ノードと、探索したノードの子ノードを繋げる。

# バイナリサーチツリーの計算量

- バイナリサーチツリーの計算量は、ツリーの高さに依存する。
- ツリーの高さは、ツリーの形によって変わる。
  - ツリーの形がバランスが取れている場合（完全二分木）、ツリーの高さはlogNとなる。
  - ツリーの形がバランスが取れていない場合、最悪でツリーの高さはNとなる。
- ノードの数をNとしてツリーの高さをHとすると、
  - N = 2^H - 1
  - つまり、 H +1 = 2^H
  - 高さをHの式として表すと、H = log2(H+1) として表せる。
- つまり高さが20程度になると保持できるノードの数が爆発的に増える（H=20ならN=100万ぐらい）ことがわかる。
  - また、逆にノードが100万個あっても、高さが20程度なら探索は20回程度で終わることがわかる。
